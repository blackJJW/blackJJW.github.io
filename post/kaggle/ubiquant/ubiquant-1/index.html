<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
	<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4952910624804435"
     crossorigin="anonymous"></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>[Kaggle] Ubiquant Market Prediction - Data &amp; EDA - Black_JJW&#39;s Blog</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta property="og:title" content="[Kaggle] Ubiquant Market Prediction - Data &amp; EDA" />
<meta property="og:description" content="" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blackjjw.github.io/post/kaggle/ubiquant/ubiquant-1/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2022-04-24T18:30:45+09:00" />
<meta property="article:modified_time" content="2022-04-24T18:30:45+09:00" />


	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link rel="dns-prefetch" href="//fonts.googleapis.com">
	<link rel="dns-prefetch" href="//fonts.gstatic.com">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,700">

	<link rel="stylesheet" href="/css/style.css">
	

	<link rel="shortcut icon" href="/favicon.ico">
		
<script async src="https://www.googletagmanager.com/gtag/js?id=G-65FHK1SBF9"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-65FHK1SBF9', { 'anonymize_ip': false });
}
</script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo">
		<a class="logo__link" href="/" title="Black_JJW&#39;s Blog" rel="home">
			<div class="logo__item logo__text">
					<div class="logo__title">Black_JJW&#39;s Blog</div>
					<div class="logo__tagline">Create, Read, Update, Delete</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">Menu</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/">
				
				<span class="menu__text">Home</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/python/">
				
				<span class="menu__text">Python</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/java/">
				
				<span class="menu__text">Java</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/html/">
				
				<span class="menu__text">HTML</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/javascript/">
				
				<span class="menu__text">JavaScript</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/algorithm/">
				
				<span class="menu__text">Algorithm</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/sql/">
				
				<span class="menu__text">sql</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/ml/">
				
				<span class="menu__text">ML</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/dl/">
				
				<span class="menu__text">DL</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/statistics/">
				
				<span class="menu__text">statistics</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/setting/">
				
				<span class="menu__text">Setting</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/kaggle/">
				
				<span class="menu__text">Kaggle</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/projects/">
				
				<span class="menu__text">Projects</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/categories/linux/">
				
				<span class="menu__text">Linux</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">ABOUT ME</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">[Kaggle] Ubiquant Market Prediction - Data &amp; EDA</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2022-04-24T18:30:45&#43;09:00">April 24, 2022</time></div><div class="meta__item-categories meta__item"><svg class="meta__icon icon icon-category" width="16" height="16" viewBox="0 0 16 16"><path d="m7 2l1 2h8v11h-16v-13z"/></svg><span class="meta__text"><a class="meta__link" href="/categories/kaggle/" rel="category">Kaggle</a>
	</span>
</div></div>
		</header>
		<div class="content post__content clearfix">
			<h1 id="step-1-라이브러리-불러오기">Step 1. 라이브러리 불러오기</h1>
<ul>
<li>본 프로젝트 수행을 위한 필수 라이브러리를 불러온다.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># 데이터 가공</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 메모리 정리</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> gc
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># for문 진행상황 확인</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> tqdm.auto <span style="color:#f92672">import</span> tqdm
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 데이터 시각화</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span><span style="color:#f92672">%</span>matplotlib inline
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> seaborn <span style="color:#66d9ef">as</span> sns
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> scipy.stats <span style="color:#66d9ef">as</span> stats
</span></span></code></pre></div><h1 id="step-2-데이터-불러오기-및-용량-축소">Step 2. 데이터 불러오기 및 용량 축소</h1>
<ul>
<li>
<p>주어진 데이터의 행은 3141410 개, 열은 304 개로 구성되어 있음.</p>
</li>
<li>
<p>데이터는 독립변수 컬럼 갯수는 303개이며, 종속 변수 컬럼은 1개로 구성되어 있음.</p>
</li>
<li>
<p>Ubiquant에서 제공하는 데이터 train.csv는 용량이 18.55 GB</p>
</li>
<li>
<p>Kaggle에서 제공하는 RAM의 크기는 16 GB</p>
</li>
<li>
<p>입력 데이터에 크기가 RAM의 크기보다 높아, 입력데이터 실행시 RAM에 과부하가 일어나므로, 입력데이터의 크기를 줄이는 것이 불가피.</p>
</li>
<li>
<p>dtypes라는 이름의 dict을 이용하여 train.csv에 있는 각 feature들의 datatype들을 다른 타입으로 지정.</p>
<ul>
<li>row_id -&gt; str</li>
<li>time_id -&gt; uint16</li>
<li>investment_id -&gt; uint16</li>
<li>target -&gt; float32</li>
<li>f_0 ~ f_299 -&gt; float32</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># setting reading types</span>
</span></span><span style="display:flex;"><span>dtypes <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;row_id&#34;</span> : <span style="color:#e6db74">&#34;str&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;time_id&#34;</span> : <span style="color:#e6db74">&#34;uint16&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;investment_id&#34;</span> : <span style="color:#e6db74">&#34;uint16&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;target &#34;</span> : <span style="color:#e6db74">&#39;float32&#39;</span>,    
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">300</span>):
</span></span><span style="display:flex;"><span>    dtypes[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;f_</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;float32&#39;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">%%</span>time
</span></span><span style="display:flex;"><span>train_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;../input/ubiquant-market-prediction/train.csv&#34;</span>, dtype<span style="color:#f92672">=</span>dtypes)
</span></span><span style="display:flex;"><span>train_df<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><pre><code>CPU times: user 4min 30s, sys: 23.2 s, total: 4min 53s
Wall time: 7min 9s
</code></pre>
<ul>
<li>memory leakage 해결을 위해 코드 실행 후 garbage collector를 실행.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>gc<span style="color:#f92672">.</span>collect()
</span></span></code></pre></div><pre><code>21
</code></pre>
<ul>
<li>datatype 변환 후의 입력 데이터의 용량
<ul>
<li>변환 전 : 18.55 GB</li>
<li>변환 후 : 3.6+ GB</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>print(train_df<span style="color:#f92672">.</span>info())
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3141410 entries, 0 to 3141409
Columns: 304 entries, row_id to f_299
dtypes: float32(300), float64(1), object(1), uint16(2)
memory usage: 3.6+ GB
None
</code></pre>
<ul>
<li>
<p>이렇게 변환된 입력데이터를 이용해 어려 전처리 과정들을 시도하였지만, 축속된 입력데이터도 과정 중에 RAM에 memory leakage를 일으켜 RAM에 memory error를 일으킴.</p>
</li>
<li>
<p>추가적인 데이터 용량 축소가 필요.</p>
</li>
<li>
<p>1차 변환된 입력데이터의 각 feature들의 datatype들을 기존의 datatype들을 다른 형식으로 지정.</p>
<ul>
<li>row_id -&gt; category</li>
<li>time_id -&gt; int16</li>
<li>investment_id -&gt; int16</li>
<li>target -&gt; float16</li>
<li>f_0 ~ f_299 -&gt; float16</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">reduce_memory_usage</span>(df):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34; iterate through all the columns of a dataframe and modify the data type
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">        to reduce memory usage.        
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    start_mem <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>memory_usage()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span> <span style="color:#75715e"># Unit: MB</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;Memory usage of input dataframe: </span><span style="color:#e6db74">{:.2f}</span><span style="color:#e6db74"> MB&#39;</span><span style="color:#f92672">.</span>format(start_mem))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> df<span style="color:#f92672">.</span>columns:
</span></span><span style="display:flex;"><span>        col_type <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>dtype
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># categorical data</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> col_type <span style="color:#f92672">==</span> object:
</span></span><span style="display:flex;"><span>            df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(<span style="color:#e6db74">&#39;category&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># numerical data</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            c_min <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>min()
</span></span><span style="display:flex;"><span>            c_max <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>max()
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># integer</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> str(col_type)[:<span style="color:#ae81ff">3</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;int&#39;</span> <span style="color:#f92672">or</span> str(col_type)[:<span style="color:#ae81ff">4</span>] <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;uint&#39;</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int8)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int8)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int8)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int16)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int16)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int16)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int32)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int32)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int32)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int64)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>iinfo(np<span style="color:#f92672">.</span>int64)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>int64)  
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># float</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>finfo(np<span style="color:#f92672">.</span>float16)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>finfo(np<span style="color:#f92672">.</span>float16)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float16)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">elif</span> c_min <span style="color:#f92672">&gt;</span> np<span style="color:#f92672">.</span>finfo(np<span style="color:#f92672">.</span>float32)<span style="color:#f92672">.</span>min <span style="color:#f92672">and</span> c_max <span style="color:#f92672">&lt;</span> np<span style="color:#f92672">.</span>finfo(np<span style="color:#f92672">.</span>float32)<span style="color:#f92672">.</span>max:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32)
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>                    df[col] <span style="color:#f92672">=</span> df[col]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float64)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    end_mem <span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>memory_usage()<span style="color:#f92672">.</span>sum() <span style="color:#f92672">/</span> <span style="color:#ae81ff">1024</span><span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;Memory usage after optimization: </span><span style="color:#e6db74">{:.2f}</span><span style="color:#e6db74"> MB&#39;</span><span style="color:#f92672">.</span>format(end_mem))
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;Decreased by </span><span style="color:#e6db74">{:.1f}</span><span style="color:#e6db74">%&#39;</span><span style="color:#f92672">.</span>format(<span style="color:#ae81ff">100</span> <span style="color:#f92672">*</span> (start_mem <span style="color:#f92672">-</span> end_mem) <span style="color:#f92672">/</span> start_mem))
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> df
</span></span></code></pre></div><ul>
<li>2차 변환 후 입력 데이터의 용량
<ul>
<li>1차 전 : 18.55 GB</li>
<li>1차 후 : 3.6+ GB</li>
<li>2차 후 : 1.9 GB</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df_1 <span style="color:#f92672">=</span> reduce_memory_usage(train_df)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">del</span> train_df
</span></span><span style="display:flex;"><span>gc<span style="color:#f92672">.</span>collect()
</span></span></code></pre></div><pre><code>Memory usage of input dataframe: 3654.98 MB
Memory usage after optimization: 1915.96 MB
Decreased by 47.6%





0
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df_1<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3141410 entries, 0 to 3141409
Columns: 304 entries, row_id to f_299
dtypes: category(1), float16(301), int16(2)
memory usage: 1.9 GB
</code></pre>
<ul>
<li>최종 변환된 dataset을 빠르게 불러올 수 있는 pickle 형식으로 저장.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df_1<span style="color:#f92672">.</span>to_pickle(<span style="color:#e6db74">&#39;train_df.pkl&#39;</span>)
</span></span></code></pre></div><ul>
<li>저장된 pickle 형식으로 데이터를 불러옴.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">%%</span>time
</span></span><span style="display:flex;"><span>train_df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_pickle(<span style="color:#e6db74">&#34;./train_df.pkl&#34;</span>)
</span></span><span style="display:flex;"><span>train_df<span style="color:#f92672">.</span>head()
</span></span></code></pre></div><pre><code>CPU times: user 936 ms, sys: 768 ms, total: 1.7 s
Wall time: 1.71 s
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">del</span> train_df_1
</span></span><span style="display:flex;"><span>gc<span style="color:#f92672">.</span>collect()
</span></span></code></pre></div><pre><code>21
</code></pre>
<ul>
<li>새로 불러온 데이터를 불러오기 전의 데이터 정보와 비교한다.</li>
<li>비교 결과 용량과 데이터 형식의 변화만 있을 뿐 다른 변화는 없는 것으로 확임됨.</li>
<li>최종 데이터 형식 구성은 category(1), float16(301), int16(2)로 구성됨.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df<span style="color:#f92672">.</span>info()
</span></span></code></pre></div><pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3141410 entries, 0 to 3141409
Columns: 304 entries, row_id to f_299
dtypes: category(1), float16(301), int16(2)
memory usage: 1.8 GB
</code></pre>
<ul>
<li>결측치 여부를 확인한 결과 없는 것으로 확임됨.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df<span style="color:#f92672">.</span>isnull()<span style="color:#f92672">.</span>sum()
</span></span></code></pre></div><pre><code>row_id           0
time_id          0
investment_id    0
target           0
f_0              0
                ..
f_295            0
f_296            0
f_297            0
f_298            0
f_299            0
Length: 304, dtype: int64
</code></pre>
<h1 id="step-3-탐색적-자료-분석eda">Step 3. 탐색적 자료 분석(EDA)</h1>
<ul>
<li>
<p>입력 데이터 정보</p>
<ul>
<li>총 304개의 컬럼들을 포함하고, 300개의 feature들은 전부 이름이 익명화됨.
<ul>
<li>익명화되 있기 때문에 data의 feature에 따른 분석이 힘들고, 다른 조사 자료를 통한 추가지표 생성이 불가능.</li>
</ul>
</li>
<li>dataset 내에 Null value가 존재하지 않음.
<ul>
<li>전처리 과정의 난이도 하락.</li>
</ul>
</li>
<li>target 분석에 초점을 맞춰야 됨.</li>
</ul>
</li>
<li>
<p>dataset 정보</p>
<ul>
<li>row_id - A unique identifier for the row.</li>
<li>time_id - The ID code for the time the data was gathered. The time IDs are in order, but the real time between the time IDs is not constant and will likely be shorter for the final private test set than in the training set.</li>
<li>investment_id - The ID code for an investment. Not all investment have data in all time IDs.</li>
<li>target - The target.</li>
<li>[f_0:f_299] - Anonymized features generated from market data.</li>
</ul>
</li>
<li>
<p>row_id 는 단순한 행의 번호이므로 분석에는 필요하지 않음.</p>
</li>
<li>
<p>각 컬럼들을 개수로 파악할 때, 각 컬럼별로 집중되는 구간이 있다는 것을 확인.</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df[<span style="color:#e6db74">&#39;time_id&#39;</span>]<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>1214    3445
1209    3444
1211    3440
1207    3440
1208    3438
        ... 
415      659
362      651
374      600
398      539
492      512
Name: time_id, Length: 1211, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df[<span style="color:#e6db74">&#39;investment_id&#39;</span>]<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>2140    1211
2385    1209
1062    1209
1144    1209
2727    1209
        ... 
905        8
2558       8
3662       7
2800       3
1415       2
Name: investment_id, Length: 3579, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code> 0.000000    1736
-0.516602     840
-0.519531     819
-0.500488     813
-0.512207     812
             ... 
-0.002434       1
-0.001189       1
 0.001925       1
 7.582031       1
-0.001307       1
Name: target, Length: 29121, dtype: int64
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df[<span style="color:#e6db74">&#39;f_1&#39;</span>]<span style="color:#f92672">.</span>value_counts()
</span></span></code></pre></div><pre><code>-0.707031    1277
 1.054688    1170
-1.003906    1159
-0.607422    1155
-0.705566    1154
             ... 
 0.006428       1
 0.001370       1
-0.000820       1
-0.000413       1
 0.000885       1
Name: f_1, Length: 24719, dtype: int64
</code></pre>
<ul>
<li>describe() 함수 적용
<ul>
<li>적용된 내용을 보면 몇 컬럼의 mean값에 NaN이 표시가 되어있는 데, 이는 계산된 데이터형식이 float16이기 때문.</li>
<li>flaot16형식에서 mean계산을 할 경우 데이터 형식이 이를 받아들이지 못해 NaN으로 반환됨.</li>
<li>향우 mean계산이 필요시 float32형식으로 일시적 변환이 필요함.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>train_df<span style="color:#f92672">.</span>describe()
</span></span></code></pre></div><h2 id="주요-컬럼-별-시각화">주요 컬럼 별 시각화</h2>
<ul>
<li>time_id, investment_id, target, [f_0:f_299]를 시각화</li>
</ul>
<h3 id="1-time_id">1. time_id</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>time_ids <span style="color:#f92672">=</span> train_df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#34;time_id&#34;</span>)<span style="color:#f92672">.</span>size() <span style="color:#75715e"># 그룹별로 묶은 후, 갯수를 반환</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>fig, axes <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(ncols<span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">8</span>), dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>) <span style="color:#75715e"># 그래프의 행과 열, 그리고 해상도 지정</span>
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set(style <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ticks&#34;</span>, font_scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>) <span style="color:#75715e"># 그래프의 스타일과 폰트 크기 지정</span>
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>despine(top<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, right<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, left<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, bottom<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>) <span style="color:#75715e"># 축, 테두리 지정</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>lineplot(data <span style="color:#f92672">=</span> time_ids, x <span style="color:#f92672">=</span> time_ids<span style="color:#f92672">.</span>index, y <span style="color:#f92672">=</span> time_ids<span style="color:#f92672">.</span>values, ax <span style="color:#f92672">=</span> axes[<span style="color:#ae81ff">0</span>]) <span style="color:#75715e"># 그래프 종류 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;time_id&#39;</span>, fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;count&#39;</span>, fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>max(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Max&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;g&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>) <span style="color:#75715e"># 최대값 선 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mean&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;r&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>) <span style="color:#75715e"># 평균값 선 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Min&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;b&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>) <span style="color:#75715e"># 최소값 선 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;lower right&#39;</span>) <span style="color:#75715e"># 범례 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;time_id counts as a function of time&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(time_ids, fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>, ax <span style="color:#f92672">=</span> axes[<span style="color:#ae81ff">1</span>]) <span style="color:#75715e"># 그래프 종류 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>axvline(time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mean&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;r&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>) <span style="color:#75715e"># 평균값 선 지정</span>
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;upper right&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;time_id counts distribution&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> time_id count</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">*</span>len(str(<span style="color:#e6db74">&#39;time_id count&#39;</span>)))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> unique count : </span><span style="color:#e6db74">{</span>len(train_df[<span style="color:#e6db74">&#39;time_id&#39;</span>]<span style="color:#f92672">.</span>unique())<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 고유 개수 출력</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> mean : </span><span style="color:#e6db74">{</span>time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 평균값 출력</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> max : </span><span style="color:#e6db74">{</span>time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>max()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 최대값 출력</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> min : </span><span style="color:#e6db74">{</span>time_ids<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) <span style="color:#75715e"># 최소값 출력</span>
</span></span></code></pre></div><p><img src="/images/kaggle/ubiquant-1/output_40_0.png" alt="png"></p>
<pre><code>&lt;Figure size 1440x720 with 0 Axes&gt;



 time_id count
 -------------
	 unique count : 1211
	 mean : 2594.0627580511973
	 max : 3445
	 min : 512
</code></pre>
<h4 id="time_id의-그래프">time_id의 그래프</h4>
<pre><code>- 고유 개수 : 1211 개
- 평균값 : 2594.0627580511973
- 거래 시간 수 최대값 : 3445
- 거래 시간 수 최소값 : 512
</code></pre>
<ul>
<li>왼쪽 그래프의 경우, 전체적으로 상승하는 경향이 보이고, time_id 350 ~ 600 에서 급격한 변화들이 있어, 모델 훈련에 영향이 있을 것으로 생각됨</li>
<li>오른쪽 그래프의 경우, time_id 1700 이후 거래가 급격하게 상승하기 시작하였고, 구간 2000 ~ 2500, 3000 ~ 3500 에 거래가 몰려있다는 것을 알 수 있음.</li>
</ul>
<h3 id="2-investment_id">2. investment_id</h3>
<ul>
<li>investment_id에서 가장 많이 투자를 한 id와 가장 적게 출력을 한 id를 출력
<ul>
<li>가장 많이 투자한 investment_id : 2140</li>
<li>가장 적게 투자한 investment_id : 1415</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>inv_id <span style="color:#f92672">=</span> train_df<span style="color:#f92672">.</span>groupby([<span style="color:#e6db74">&#39;investment_id&#39;</span>])<span style="color:#f92672">.</span>size()
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Number of unique investment_id&#39;s : </span><span style="color:#e6db74">{</span>len(train_df[<span style="color:#e6db74">&#39;investment_id&#39;</span>]<span style="color:#f92672">.</span>unique())<span style="color:#e6db74">}</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Index of investment_id with most entries : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>idxmax()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) 
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;Index of investment_id with least entries : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>idxmin()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>) 
</span></span></code></pre></div><pre><code>Number of unique investment_id's : 3579

Index of investment_id with most entries : 2140
Index of investment_id with least entries : 1415
</code></pre>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fig, axes <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(ncols<span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">8</span>), dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set(style <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ticks&#34;</span>, font_scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>despine(top<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, right<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, left<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>, bottom<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>lineplot(data <span style="color:#f92672">=</span> inv_id, x <span style="color:#f92672">=</span> inv_id<span style="color:#f92672">.</span>index, y <span style="color:#f92672">=</span> inv_id<span style="color:#f92672">.</span>values, ax <span style="color:#f92672">=</span> axes[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;investment_id&#39;</span>, fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;count&#39;</span>, fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>max(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Max&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;g&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mean&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;r&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axhline(inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Min&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;b&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;lower right&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;investment_id counts as a function of investment&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(inv_id, fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>, ax <span style="color:#f92672">=</span> axes[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>axvline(inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mean&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;r&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;upper right&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;investment_id counts distribution&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> investment_id count</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">*</span>len(str(<span style="color:#e6db74">&#39;investment_id count&#39;</span>)))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> unique count : </span><span style="color:#e6db74">{</span>len(train_df[<span style="color:#e6db74">&#39;investment_id&#39;</span>]<span style="color:#f92672">.</span>unique())<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> mean : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>mean()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> max : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>max()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> min : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>min()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><p><img src="/images/kaggle/ubiquant-1/output_45_0.png" alt="png"></p>
<pre><code>&lt;Figure size 1440x720 with 0 Axes&gt;



 investment_id count
 -------------------
	 unique count : 3579
	 mean : 877.7340039117072
	 max : 1211
	 min : 2
</code></pre>
<h4 id="investment_id의-그래프">investment_id의 그래프</h4>
<pre><code>- 고유 개수 : 3579 개
- 평균 투자 값 : 877.7340039117072
- 투자 횟수 최대값 : 1211
- 투자 횟수 최소값 : 2
</code></pre>
<ul>
<li>오른쪽 그래프의 경우, investment_id의 순서에 관계없이 id별로 투자횟수가 다르다는 것을 알 수 있음.</li>
<li>왼쪽 그래프의 경우, time_id의 순서로 투자 밀도를 나타낸 그래프.
<ul>
<li>전체적으로 투자 횟수가 늘어나는 경향.</li>
<li>구간 200 ~ 600, 700 ~ 1200에 투자횟수가 증가함을 보임.</li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># investment_id = 2140</span>
</span></span><span style="display:flex;"><span>id_2140 <span style="color:#f92672">=</span> train_df[train_df[<span style="color:#e6db74">&#39;investment_id&#39;</span>] <span style="color:#f92672">==</span> <span style="color:#ae81ff">2140</span>]
</span></span><span style="display:flex;"><span>mean <span style="color:#f92672">=</span> round(id_2140[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>mean(), <span style="color:#ae81ff">3</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize <span style="color:#f92672">=</span> (<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">10</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set(style <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;ticks&#39;</span>, font_scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>ax <span style="color:#f92672">=</span> sns<span style="color:#f92672">.</span>lineplot(data <span style="color:#f92672">=</span> id_2140, x <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;time_id&#39;</span>, y <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;target&#39;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>axhline(mean,label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;Mean&#39;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;r&#39;</span>, linestyle <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;-.&#39;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;upper right&#39;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set_xlabel(<span style="color:#e6db74">&#39;time_id&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>,weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">.</span>set_ylabel(<span style="color:#e6db74">&#39;target&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>,weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#39;target over time_id for (investment ID = 2140)&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>,weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>);
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> investment_id = 2140</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">*</span>len(str(<span style="color:#e6db74">&#39;investment_id = 2140&#39;</span>)))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">transactions count : </span><span style="color:#e6db74">{</span>inv_id<span style="color:#f92672">.</span>values<span style="color:#f92672">.</span>max()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74">mean : </span><span style="color:#e6db74">{</span>mean<span style="color:#e6db74">:</span><span style="color:#e6db74">.6f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><p><img src="/images/kaggle/ubiquant-1/output_47_0.png" alt="png"></p>
<pre><code> investment_id = 2140
 --------------------
	transactions count : 1211
	mean : 0.014999
</code></pre>
<h3 id="investment_id--2140-의-그래프">investment_id == 2140 의 그래프</h3>
<pre><code>- transcation 횟수 : 1211
- target의 평균 값 : 0.014999
</code></pre>
<ul>
<li>continuous한 모습을 보여 예측에 유리할 것으로 보임.</li>
</ul>
<h3 id="3-target">3. target</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fig, axes <span style="color:#f92672">=</span> plt<span style="color:#f92672">.</span>subplots(ncols<span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">25</span>, <span style="color:#ae81ff">8</span>), dpi <span style="color:#f92672">=</span> <span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set(style <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;ticks&#34;</span>, font_scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>kdeplot(train_df[<span style="color:#e6db74">&#39;target&#39;</span>], label <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;target&#34;</span>, fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>, ax <span style="color:#f92672">=</span> axes[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axvline(train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32)<span style="color:#f92672">.</span>mean(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Mean&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;r&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>axvline(train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>median(), label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;Median&#34;</span>, color <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;b&#34;</span>, linewidth <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, linestyle <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;--&#34;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>legend(prop<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;size&#39;</span>:<span style="color:#ae81ff">15</span>}, loc <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;lower right&#39;</span>)
</span></span><span style="display:flex;"><span>axes[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set_title(<span style="color:#e6db74">&#39;investment_id counts as a function of investment&#39;</span>,fontsize <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>, weight <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;bold&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>stats<span style="color:#f92672">.</span>probplot(train_df[<span style="color:#e6db74">&#39;target&#39;</span>], plot<span style="color:#f92672">=</span>axes[<span style="color:#ae81ff">1</span>])
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74"> target </span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>,<span style="color:#e6db74">&#39;-&#39;</span><span style="color:#f92672">*</span>len(str(<span style="color:#e6db74">&#39;target&#39;</span>)))
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> mean : </span><span style="color:#e6db74">{</span>train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>astype(np<span style="color:#f92672">.</span>float32)<span style="color:#f92672">.</span>mean()<span style="color:#e6db74">:</span><span style="color:#e6db74">.6f</span><span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> max : </span><span style="color:#e6db74">{</span>train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>max()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\t</span><span style="color:#e6db74"> min : </span><span style="color:#e6db74">{</span>train_df[<span style="color:#e6db74">&#39;target&#39;</span>]<span style="color:#f92672">.</span>min()<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>)
</span></span></code></pre></div><p><img src="/images/kaggle/ubiquant-1/output_50_0.png" alt="png"></p>
<pre><code> target 
 ------
	 mean : -0.021092
	 max : 12.0390625
	 min : -9.421875
</code></pre>
<h4 id="target의-그래프">target의 그래프</h4>
<pre><code>- 평균값 : -0.021092
- 최대값 : 12.0390625
- 최소값 : -9.421875
</code></pre>
<ul>
<li>평균값이 0에 아주 가깝고, 대칭성을 보아 정규화가 잘되어있은 것으로 보임.</li>
<li>첨도가 높고, 양 끝 값과 0사이 거리가 길다는 것을 확인.</li>
</ul>
<h3 id="4-features">4. features</h3>
<ul>
<li>300개가 있으므로 일일이 확인하는 것이 어려움.</li>
<li>25개를 골라 밀도함수로 표현</li>
<li>각 f_별로 특징들이 들어남.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">20</span>, <span style="color:#ae81ff">20</span>))
</span></span><span style="display:flex;"><span>sns<span style="color:#f92672">.</span>set(font_scale<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> tqdm(range(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">25</span>)): <span style="color:#75715e"># 처리에 시간이 걸려 진행상황 확인 기능 추가</span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">5</span>, <span style="color:#ae81ff">5</span>, i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>subplots_adjust(wspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>, hspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0.3</span>) <span style="color:#75715e"># 그래프간 간격 설정</span>
</span></span><span style="display:flex;"><span>    sns<span style="color:#f92672">.</span>kdeplot(train_df[<span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;f_</span><span style="color:#e6db74">{</span>i<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>], fill <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><pre><code>  0%|          | 0/25 [00:00&lt;?, ?it/s]
</code></pre>
<p><img src="/images/kaggle/ubiquant-1/output_54_1.png" alt="png"></p>
<h1 id="현-과정">현 과정</h1>
<p><a href="https://www.kaggle.com/code/blackjjw/ubiquant-1">https://www.kaggle.com/code/blackjjw/ubiquant-1</a></p>
<h1 id="다음-과정">다음 과정</h1>
<p><a href="https://www.kaggle.com/code/blackjjw/ubiquant-2">https://www.kaggle.com/code/blackjjw/ubiquant-2</a></p>
<h3 id="references">References</h3>
<p><a href="https://www.kaggle.com/code/yoshikuwano/fast-read-data-and-memory-optimization/notebook">https://www.kaggle.com/code/yoshikuwano/fast-read-data-and-memory-optimization/notebook</a><br>
<a href="https://www.kaggle.com/code/rohanrao/tutorial-on-reading-large-datasets/notebook#Format:-csv">https://www.kaggle.com/code/rohanrao/tutorial-on-reading-large-datasets/notebook#Format:-csv</a> <br>
<a href="https://www.kaggle.com/code/sytuannguyen/ubiquant-data-preparation#3.-Save-the-reduced-dataframe">https://www.kaggle.com/code/sytuannguyen/ubiquant-data-preparation#3.-Save-the-reduced-dataframe</a><br>
<a href="https://www.kaggle.com/code/jnegrini/ubiquant-eda">https://www.kaggle.com/code/jnegrini/ubiquant-eda</a><br>
<a href="https://www.kaggle.com/code/gunesevitan/ubiquant-market-prediction-eda/notebook#3.-Target">https://www.kaggle.com/code/gunesevitan/ubiquant-market-prediction-eda/notebook#3.-Target</a><br>
<a href="https://www.kaggle.com/code/ilialar/ubiquant-eda-and-baseline#Features">https://www.kaggle.com/code/ilialar/ubiquant-eda-and-baseline#Features</a></p>
		</div>
		<footer class="post__footer">
			
<div class="post__tags tags clearfix">
	<svg class="tags__badge icon icon-tag" width="16" height="16" viewBox="0 0 32 32"><path d="M32 19c0 1-1 2-1 2L21 31s-1 1-2 1-2-1-2-1L2 16c-1-1-1.4-2-1.4-2S0 12.5 0 11V3C0 1.5.8.8.8.8S1.5 0 3 0h8c1.5 0 3 .6 3 .6S15 1 16 2l15 15s1 1 1 2zM7 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/></svg>
	<ul class="tags__list">
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/python/" rel="tag">Python</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/ml/" rel="tag">ML</a>
		</li>
		<li class="tags__item">
			<a class="tags__link btn" href="/tags/kaggle/" rel="tag">Kaggle</a>
		</li>
	</ul>
</div>
		</footer>
	</article>
</main>

<div class="authorbox clearfix">
	<div class="authorbox__header">
		<span class="authorbox__name">About JUNG JIN WOO</span>
	</div>
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/post/setting/oracle_database_19c_setting/" rel="prev">
			<span class="pager__subtitle">«&thinsp;Previous</span>
			<p class="pager__title">[Oracle][setting] Oracle Database 19c Installation and Setting</p>
		</a>
	</div>
	<div class="pager__item pager__item--next">
		<a class="pager__link" href="/post/kaggle/ubiquant/ubiquant-2/" rel="next">
			<span class="pager__subtitle">Next&thinsp;»</span>
			<p class="pager__title">[Kaggle] Ubiquant Market Prediction - Prediction &amp; Score</p>
		</a>
	</div>
</nav>


			</div>
			<aside class="sidebar"><div class="widget-search widget">
	<form class="widget-search__form" role="search" method="get" action="https://google.com/search">
		<label>
			<input class="widget-search__field" type="search" placeholder="SEARCH…" value="" name="q" aria-label="SEARCH…">
		</label>
		<input class="widget-search__submit" type="submit" value="Search">
		<input type="hidden" name="sitesearch" value="https://blackjjw.github.io/" />
	</form>
</div>
<div class="widget-recent widget">
	<h4 class="widget__title">Recent Posts</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item"><a class="widget__link" href="/post/lang_java/study/lambda/%EB%A6%AC%ED%84%B4%EA%B0%92%EC%9D%B4_%EC%9E%88%EB%8A%94_%EB%9E%8C%EB%8B%A4%EC%8B%9D/">[Java] 타겟 타입과 함수적 인터페이스 - 리턴값이 있는 람다식</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/lang_java/study/lambda/%EB%A7%A4%EA%B0%9C_%EB%B3%80%EC%88%98%EA%B0%80_%EC%9E%88%EB%8A%94_%EB%9E%8C%EB%8B%A4%EC%8B%9D/">[Java] 타겟 타입과 함수적 인터페이스 - 매개 변수가 있는 람다식</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/lang_java/study/lambda/%EB%A7%A4%EA%B0%9C_%EB%B3%80%EC%88%98%EC%99%80_%EB%A6%AC%ED%84%B4%EA%B0%92%EC%9D%B4_%EC%97%86%EB%8A%94_%EB%9E%8C%EB%8B%A4%EC%8B%9D/">[Java] 타겟 타입과 함수적 인터페이스 - 매개 변수와 리턴값이 없는 람다식</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/lang_java/study/lambda/%ED%83%80%EA%B2%9F_%ED%83%80%EC%9E%85%EA%B3%BC_%ED%95%A8%EC%88%98%EC%A0%81_%EC%9D%B8%ED%84%B0%ED%8E%98%EC%9D%B4%EC%8A%A4/">[Java] 타겟 타입과 함수적 인터페이스</a></li>
			<li class="widget__item"><a class="widget__link" href="/post/lang_java/study/lambda/%EB%9E%8C%EB%8B%A4%EC%8B%9D_%EA%B8%B0%EB%B3%B8_%EB%AC%B8%EB%B2%95/">[Java] 람다식 기본 문법</a></li>
		</ul>
	</div>
</div>
<div class="widget-categories widget">
	<h4 class="widget__title">Categories</h4>
	<div class="widget__content">
		<ul class="widget__list">
			<li class="widget__item">
				<a class="widget__link" href="/categories/algorithm/">Algorithm</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">17</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/dl/">DL</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">9</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/java/">Java</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">201</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/javascript/">JavaScript</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">120</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/kaggle/">Kaggle</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/linux/">Linux</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/ml/">ML</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">14</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/projects/">Projects</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">3</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/python/">Python</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">8</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/setting/">Setting</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/sql/">SQL</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">1</span>
				</li>
			<li class="widget__item">
				<a class="widget__link" href="/categories/statistics/">Statistics</a>&nbsp;
				<span class="widget__counter widget__counter--bubble">2</span>
				</li>
		</ul>
	</div>
</div>
<div class="widget-taglist widget">
	<h4 class="widget__title">Tags</h4>
	<div class="widget__content">
		<a class="widget-taglist__link widget__link btn" href="/tags/algorithm/" title="Algorithm">Algorithm (17)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/chatbot/" title="Chatbot">Chatbot (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/codeuppython/" title="CodeUp(Python)">CodeUp(Python) (7)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/coding-test/" title="Coding Test">Coding Test (7)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/css/" title="CSS">CSS (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/db/" title="DB">DB (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/dl/" title="DL">DL (10)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/flask/" title="Flask">Flask (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/html/" title="HTML">HTML (35)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/java/" title="Java">Java (202)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/javascript/" title="JavaScript">JavaScript (121)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/javascript-library/" title="JavaScript Library">JavaScript Library (12)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/kaggle/" title="Kaggle">Kaggle (3)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/kakao/" title="kakao">kakao (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/kakao-maps/" title="kakao Maps">kakao Maps (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/linux/" title="Linux">Linux (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/lodash/" title="Lodash">Lodash (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/ml/" title="ML">ML (17)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/openroute-service/" title="openroute service">openroute service (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/oracle/" title="ORACLE">ORACLE (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/os/" title="OS">OS (2)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/python/" title="Python">Python (54)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/python-library/" title="Python Library">Python Library (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/react/" title="React">React (11)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/spark/" title="Spark">Spark (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/spring-boot/" title="Spring Boot">Spring Boot (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/spring-security/" title="Spring Security">Spring Security (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/sql/" title="SQL">SQL (1)</a>
		<a class="widget-taglist__link widget__link btn" href="/tags/statistics/" title="Statistics">Statistics (2)</a>
	</div>
</div>
<div class="widget-social widget">
	<h4 class="widget-social__title widget__title">Social</h4>
	<div class="widget-social__content widget__content">
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="GitHub" rel="noopener noreferrer" href="https://github.com/blackJJW" target="_blank">
				<svg class="widget-social__link-icon icon icon-github" width="24" height="24" viewBox="0 0 384 374"><path d="m192 0c-106.1 0-192 85.8-192 191.7 0 84.7 55 156.6 131.3 181.9 9.6 1.8 13.1-4.2 13.1-9.2 0-4.6-.2-16.6-.3-32.6-53.4 11.6-64.7-25.7-64.7-25.7-8.7-22.1-21.3-28-21.3-28-17.4-11.9 1.3-11.6 1.3-11.6 19.3 1.4 29.4 19.8 29.4 19.8 17.1 29.3 44.9 20.8 55.9 15.9 1.7-12.4 6.7-20.8 12.2-25.6-42.6-4.8-87.5-21.3-87.5-94.8 0-20.9 7.5-38 19.8-51.4-2-4.9-8.6-24.3 1.9-50.7 0 0 16.1-5.2 52.8 19.7 15.3-4.2 31.7-6.4 48.1-6.5 16.3.1 32.7 2.2 48.1 6.5 36.7-24.8 52.8-19.7 52.8-19.7 10.5 26.4 3.9 45.9 1.9 50.7 12.3 13.4 19.7 30.5 19.7 51.4 0 73.7-44.9 89.9-87.7 94.6 6.9 5.9 13 17.6 13 35.5 0 25.6-.2 46.3-.2 52.6 0 5.1 3.5 11.1 13.2 9.2 76.2-25.5 131.2-97.3 131.2-182 0-105.9-86-191.7-192-191.7z"/></svg>
				<span>GitHub</span>
			</a>
		</div>
		<div class="widget-social__item widget__item">
			<a class="widget-social__link widget__link btn" title="Email" href="mailto:jjinwoo92@gmail.com">
				<svg class="widget-social__link-icon icon icon-mail" width="24" height="24" viewBox="0 0 416 288"><path d="m0 16v256 16h16 384 16v-16-256-16h-16-384-16zm347 16-139 92.5-139-92.5zm-148 125.5 9 5.5 9-5.5 167-111.5v210h-352v-210z"/></svg>
				<span>jjinwoo92@gmail.com</span>
			</a>
		</div>

		
	</div>
</div>
<div class="view-gitChart">
	<h4 class="widget__title">GitHub Contributions Graph</h4>
	<div class="gitChart-content">
		<img src="https://ghchart.rshah.org/blackJJW" border="1"/>
	</div>
	<br>
</div>
<div class="view-kaggleBadge">
	<h4 class="widget__title">Kaggle Tier & Medals</h4>
	<div class="kaggle-content">
		<img src="https://road-to-kaggle-grandmaster.vercel.app/api/badges/blackjjw/competition/light">
		<img src="https://road-to-kaggle-grandmaster.vercel.app/api/badges/blackjjw/dataset/light">
		<br><br>
		<img src="https://road-to-kaggle-grandmaster.vercel.app/api/badges/blackjjw/notebook/light">
		<img src="https://road-to-kaggle-grandmaster.vercel.app/api/badges/blackjjw/discussion/light">
	</div>
	<br>
</div>
</aside>
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2022 Black_JJW&#39;s Blog.
			<span class="footer__copyright-credits">Generated with <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> and <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> theme.</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML" async>
MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
           extensions: ["AMSmath.js", "AMSsymbols.js"] }
    }
    });
    MathJax.Hub.Queue(function() {
      
      
      
      var all = MathJax.Hub.getAllJax(), i;
      for(i = 0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
    });

    MathJax.Hub.Config({
    
    TeX: { equationNumbers: { autoNumber: "AMS" } }
    });
</script>
</body>
</html>